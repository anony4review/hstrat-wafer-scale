const genome = @import_module("cerebraslib/genome_bitdrift.csl");
const population = @import_module("cerebraslib/population.csl", .{
    .popSize = 100, .genomeWords = genome.genomeWords,
    .fitFun = genome.calc_fitness, .mutFun = genome.apply_mutation,
    .tournamentSize = 3,
});


fn test_calc_fitness() void { population.calc_fitness(0); }

fn test_do_generation() void { population.do_generation(); }

fn test_do_mutation() void { population.do_mutation(0); }

fn test_do_selection() void { population.do_selection(); }

fn test_emigrate_genomes() void {
    population.emigrate_genomes(
        population.swapDsd, 10
    );
}

fn test_immigrate_genomes() void {
    population.immigrate_genomes(
        population.swapDsd, 10
    );
}

fn test_eval_fitnesses() void { population.eval_fitnesses(); }

fn test_get_genome() void { population.get_genome(0); }

fn test_get_population_word() void { population.get_population_word(0); }

fn test_get_swap_word() void { population.get_swap_word(0); }

fn test_sample_tournament_winner() void {
    population.sample_tournament_winner();
}

fn test_sample_n() void {
    population.sample_n(1);
    population.sample_n(2);
    population.sample_n(100);
    population.sample_n(99);
    population.sample_n(2);
}


fn test_do_swap() void { population.do_swap(); }


fn do_test() void {
    test_calc_fitness();
    // test_do_generation();
    test_do_mutation();
    test_do_selection();
    // test_emigrate_genomes();
    // test_immigrate_genomes();
    test_eval_fitnesses();
    test_get_genome();
    test_get_population_word();
    test_get_swap_word();
    // test_sample_n();
    test_sample_tournament_winner();
    test_do_swap();
}
